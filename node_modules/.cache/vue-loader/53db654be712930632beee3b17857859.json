{"remainingRequest":"c:\\xampp\\htdocs\\kp_amikom\\views\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\xampp\\htdocs\\kp_amikom\\views\\src\\views\\Users\\pages\\Settings.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\xampp\\htdocs\\kp_amikom\\views\\src\\views\\Users\\pages\\Settings.vue","mtime":1565530382884},{"path":"c:\\xampp\\htdocs\\kp_amikom\\views\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\xampp\\htdocs\\kp_amikom\\views\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\xampp\\htdocs\\kp_amikom\\views\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1549812933000},{"path":"c:\\xampp\\htdocs\\kp_amikom\\views\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\xampp\\htdocs\\kp_amikom\\views\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data: () => ({\r\n    headers: [\r\n      {\r\n        text: \"Nama\",\r\n        align: \"left\",\r\n        sortable: true,\r\n        value: \"nama\"\r\n      },\r\n      { text: \"Nidn\", value: \"nidn\" },\r\n      { text: \"Email\", value: \"email\" },\r\n      {\r\n        text: \"Kategori\",\r\n        value: \"kategori\",\r\n        filter: value => {\r\n          return value === \"Dosen\";\r\n        }\r\n      },\r\n      { text: \"Status\", value: \"hak_akses\" },\r\n      { text: \"Aksi\", value: \"actions\" }\r\n    ],\r\n    prodi: [ ],\r\n    dialog: false,\r\n    akses: true,\r\n    hak_akses : '',\r\n    search: \"\"\r\n  \r\n  }),\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    update : function(){\r\n      let ak = \"\"; \r\n      if(this.akses){\r\n        ak = 'aktif'\r\n      }else {\r\n        ak = \"tidak aktif\"\r\n      }\r\n         let data = {\r\n         id_user : this.id,\r\n         status : ak\r\n       };\r\n      return this.axios.post(\"/hak_akses\", data)\r\n      .then(res =>{\r\n        console.log(res.data)\r\n        this.getData();\r\n      }).catch((err)=>{\r\n\r\n      });\r\n    },\r\n    getData: function() {\r\n      this.axios\r\n        .get(\"/user\")\r\n        .then(res => {\r\n         let data= [] ;\r\n       this.prodi = res.data.data;\r\n       console.log(res.data)\r\n          // for (var i = 0; i <= res.data.data.length; i ++){\r\n          //    let user = res.data.data[i] ;\r\n           \r\n            \r\n          //    data = {\r\n          //       id : user .id,\r\n          //       nama : user.nama,\r\n          //       nidn : user.nidn,\r\n          //       email : user.email,\r\n          //       password : user.password,\r\n          //       kategori : user.kategori,\r\n          //       hak_akses : user.hak_akses,\r\n          //   }\r\n           \r\n          // }\r\n         // this.prodi = data;\r\n         //  console.log(data);\r\n        //  console.log(res.data.data);\r\n        })\r\n        .catch(err => {\r\n        //  console.log(err);\r\n        });\r\n    },\r\n    updateConfirmation(id, nama, nidn, email, kategori, hak_akses) {\r\n      this.id = id;\r\n      this.nama = nama;\r\n      this.nidn = nidn;\r\n      this.email = email;\r\n      this.kategori = kategori;\r\n      if(hak_akses == \"aktif\"){\r\n        this.akses = true;\r\n      }else{\r\n        this.akses = false;\r\n      }\r\n      this.hak_akses = hak_akses;\r\n\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Settings.vue","sourceRoot":"src/views/Users/pages","sourcesContent":["<template>\r\n  <div>\r\n    <v-dialog v-model=\"dialog\" persistent max-width=\"600\">\r\n      <v-card class=\"pa-2\">\r\n        <h2 class=\"px-4 py-4\">Sunting hak akses</h2>\r\n        <v-divider class=\"mb-5\"></v-divider>\r\n        <v-card-text>\r\n          <v-form ref=\"form\">\r\n            <v-container grid-list-xl fluid>\r\n              <v-layout wrap>\r\n                <v-flex xs12 sm6>\r\n                  <v-text-field v-model=\"nama\" filled disabled label=\"Nama\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6>\r\n                  <v-text-field v-model=\"nidn\" filled disabled label=\"NIDN\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6>\r\n                  <v-text-field v-model=\"email\" filled disabled label=\"Email\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6>\r\n                  <v-switch v-model=\"akses\" @change=\"update\" color=\"success\" label=\"Hak akses\"></v-switch>\r\n                </v-flex>\r\n                <!-- <v-text-field outlined v-model=\"kategori\" label=\"Kategori\"></v-text-field> -->\r\n              </v-layout>\r\n            </v-container>\r\n          </v-form>\r\n        </v-card-text>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"primary\" @click=\"dialog = false\">Oke</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <v-container>\r\n      <v-card-title>\r\n       \r\n        <v-spacer></v-spacer>\r\n        <v-text-field v-model=\"search\" append-icon=\"search\" label=\"Search\" single-line hide-details></v-text-field>\r\n      </v-card-title>\r\n\r\n      <v-data-table :headers=\"headers\" :items=\"prodi\" :search=\"search\" class=\"elevation-1\">\r\n        <template v-slot:items=\"props\">\r\n          <td>{{ props.item.nama }}</td>\r\n          <td class=\"text-xs-right\">{{ props.item.nidn}}</td>\r\n          <td class=\"text-xs-right\">{{ props.item.email}}</td>\r\n          <td class=\"text-xs-right\">{{ props.item.kategori }}</td>\r\n        </template>\r\n\r\n        <template v-slot:item.status=\"{ item }\">\r\n        {{ item.hak_akses }}\r\n        </template>\r\n\r\n        <template v-slot:item.actions=\"{ item }\">\r\n          <v-btn\r\n            fab\r\n            small\r\n            dark\r\n            color=\"primary\"\r\n            @click.stop=\"updateConfirmation(item.id, item.nama, item.nidn, item.email, item.kategori, item.hak_akses), dialog = true\"\r\n          >\r\n            <v-icon dark>edit</v-icon>\r\n          </v-btn>\r\n        </template>\r\n      </v-data-table>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    headers: [\r\n      {\r\n        text: \"Nama\",\r\n        align: \"left\",\r\n        sortable: true,\r\n        value: \"nama\"\r\n      },\r\n      { text: \"Nidn\", value: \"nidn\" },\r\n      { text: \"Email\", value: \"email\" },\r\n      {\r\n        text: \"Kategori\",\r\n        value: \"kategori\",\r\n        filter: value => {\r\n          return value === \"Dosen\";\r\n        }\r\n      },\r\n      { text: \"Status\", value: \"hak_akses\" },\r\n      { text: \"Aksi\", value: \"actions\" }\r\n    ],\r\n    prodi: [ ],\r\n    dialog: false,\r\n    akses: true,\r\n    hak_akses : '',\r\n    search: \"\"\r\n  \r\n  }),\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    update : function(){\r\n      let ak = \"\"; \r\n      if(this.akses){\r\n        ak = 'aktif'\r\n      }else {\r\n        ak = \"tidak aktif\"\r\n      }\r\n         let data = {\r\n         id_user : this.id,\r\n         status : ak\r\n       };\r\n      return this.axios.post(\"/hak_akses\", data)\r\n      .then(res =>{\r\n        console.log(res.data)\r\n        this.getData();\r\n      }).catch((err)=>{\r\n\r\n      });\r\n    },\r\n    getData: function() {\r\n      this.axios\r\n        .get(\"/user\")\r\n        .then(res => {\r\n         let data= [] ;\r\n       this.prodi = res.data.data;\r\n       console.log(res.data)\r\n          // for (var i = 0; i <= res.data.data.length; i ++){\r\n          //    let user = res.data.data[i] ;\r\n           \r\n            \r\n          //    data = {\r\n          //       id : user .id,\r\n          //       nama : user.nama,\r\n          //       nidn : user.nidn,\r\n          //       email : user.email,\r\n          //       password : user.password,\r\n          //       kategori : user.kategori,\r\n          //       hak_akses : user.hak_akses,\r\n          //   }\r\n           \r\n          // }\r\n         // this.prodi = data;\r\n         //  console.log(data);\r\n        //  console.log(res.data.data);\r\n        })\r\n        .catch(err => {\r\n        //  console.log(err);\r\n        });\r\n    },\r\n    updateConfirmation(id, nama, nidn, email, kategori, hak_akses) {\r\n      this.id = id;\r\n      this.nama = nama;\r\n      this.nidn = nidn;\r\n      this.email = email;\r\n      this.kategori = kategori;\r\n      if(hak_akses == \"aktif\"){\r\n        this.akses = true;\r\n      }else{\r\n        this.akses = false;\r\n      }\r\n      this.hak_akses = hak_akses;\r\n\r\n    }\r\n  }\r\n};\r\n</script>"]}]}